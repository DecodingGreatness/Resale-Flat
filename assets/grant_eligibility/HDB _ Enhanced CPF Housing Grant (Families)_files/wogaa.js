/**
 * WOGAA.js
 * Version: 1.3.1-g5099529
 */
!function(){"use strict";var e,t=function(){return t=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError,function(e){e.StartTS="START_TS",e.CompleteTS="COMPLETE_TS",e.TrackStructuredEvent="TRACK_STRUCTURED_EVENT",e.SetUserId="SET_USER_ID",e.SetIdentity="SET_IDENTITY",e.SearchSgSearchEvent="SEARCHSG_SEARCH_EVENT",e.SearchSgDisplayEvent="SEARCHSG_DISPLAY_EVENT",e.SearchSgClickEvent="SEARCHSG_CLICK_EVENT",e.SearchSgRateEvent="SEARCHSG_RATE_EVENT",e.SearchSgSessionInitEvent="SEARCHSG_SESSION_INIT_EVENT",e.SearchSgGeneratedAnswer="SEARCHSG_GENERATED_ANSWER",e.SearchSgGeneratedAnswerInteraction="SEARCHSG_GENERATED_ANSWER_INTERACTION",e.TrackCustomEvent="TRACK_CUSTOM_EVENT"}(e||(e={}));window.wogaaLayer=window.wogaaLayer||[],window.wogaaCustom=window.wogaaCustom||{};var n="Wogaa:js",a="wogaa.logger.debug",r=window.wogaaLayer,o="",i=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{var o=window.localStorage.getItem(a);o&&"true"===o&&console.log.apply(console,function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}(["ðŸ­ | ".concat(e," |"),t],n,!1))}catch(e){console.error("Unable get local storage",e)}},c={SearchSG:{searchsg_search:function(t){i(n,"SearchSG","triggered search event"),r.push({type:e.SearchSgSearchEvent,payload:t})},searchsg_display:function(t){i(n,"SearchSG","triggered display event."),r.push({type:e.SearchSgDisplayEvent,payload:t})},searchsg_click:function(t){i(n,"SearchSG","triggered clicked event."),r.push({type:e.SearchSgClickEvent,payload:t})},searchsg_rate:function(t){i(n,"SearchSG","triggered rated feedback event."),r.push({type:e.SearchSgRateEvent,payload:t})},searchsg_session_init:function(t){i(n,"SearchSG","triggered session init event."),r.push({type:e.SearchSgSessionInitEvent,payload:t})},generated_answer:function(t){i(n,"SearchSG","triggered generated answer event."),r.push({type:e.SearchSgGeneratedAnswer,payload:t})},generated_answer_interaction:function(t){i(n,"SearchSG","triggered generated answer interaction event."),r.push({type:e.SearchSgGeneratedAnswerInteraction,payload:t})}}};window.wogaaCustom=t(t({},window.wogaaCustom),{addMeta:function(e){"object"==typeof e&&null!==e&&(window.digitalData=t(t(t({},window.digitalData),{agencyTxnId:null}),e))},completeTransactionalService:function(e,t){void 0===t&&(t={}),i(n,"triggered event complete transactional service",{trackingId:e}),r.push({type:"COMPLETE_TS",payload:{trackingId:e,options:t}})},customContext:function(e,t,n){return c[e][t](n)},getDomainUserId:function(){var e=new RegExp("_sp_id\\.[a-f0-9]+=([^;]+);?"),t=document.cookie.match(e);return!(!t||!t[1])&&t[1].split(".")[0]},getSessionUserId:function(){try{var e=new RegExp("_sp_id\\.[a-f0-9]+=([^;]+);?"),t=document.cookie.match(e);return!(!t||!t[1])&&t[1].split(".")[5]}catch(e){console.error("Unable getting snowplow session id",e)}},log:i,setDebug:function(e){try{window.localStorage.setItem(a,e.toString().toLowerCase())}catch(e){console.error("Unable get local storage",e)}},setIdentity:function(e){i(n,"triggered event set Snowplow identity context."),o=e.id,r.push({type:"SET_IDENTITY",payload:{id:e.id}})},getIdentity:function(){return o},showSentimentsForIS:function(){i(n,"triggered event show sentiments for IS"),r.push({type:"OPEN_IS_SENTIMENTS"})},showSentimentsForTS:function(e,t){var a=(void 0===t?{uniqueTransactionId:null}:t).uniqueTransactionId;i(n,"triggered event show sentiments for TS"),r.push({type:"COMPLETE_TS",payload:{uniqueTransactionId:a,trackingId:e}})},startTransactionalService:function(e,t){void 0===t&&(t={}),i(n,"triggered event start transactional service",{trackingId:e}),r.push({type:"START_TS",payload:{trackingId:e,options:t}})},trackEvent:function(e,t,a,o,c){var s={category:e,action:t,label:a,property:o,value:c};i(n,"triggered track event",{payload:s}),r.push({type:"TRACK_STRUCTURED_EVENT",payload:s})},trackCustomEvent:function(e,t,a,o,c,s,p,S){i(n,"triggered event set Snowplow identity context.");var d={category:e,action:t,label:a,property:o,value:c,project:s,projectVersion:p,jsonContent:S};r.push({type:"TRACK_CUSTOM_EVENT",payload:d})},wogaaJSVersion:"1.3.1-g5099529"});var s,p,S,d,l,g,u,h,w=window.location.href,E=function(e){var t;return"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t},v=function(e,t){var n,a=this;return void 0===t&&(t=0),function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){e.apply(a,r)}),t)}}((function(){var e=window.location.href;w!==e&&window.dispatchEvent(E("locationchange")),w=e}),0),y=function(e,t,n){var a=e[t];e[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=a.apply(this,e);return window.dispatchEvent(E(t)),n.apply(this,e),o}};(s=function(){var e=window.history;e&&"pushState"in e&&y(e,"pushState",v),e&&"replaceState"in e&&y(e,"replaceState",v),window.addEventListener("popstate",v),window.addEventListener("hashchange",v);var t,n,a,r=function(){try{return window.location.href.split("?")[0]}catch(e){return console.error(e),""}}();t="https://assets.wogaa.sg/scripts/wogaa.js?url="+encodeURIComponent(r),n=document.head||document.getElementsByTagName("head")[0],(a=document.createElement("script")).async=!0,a.src=t,n.appendChild(a)},p=!1,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return p?void 0:(p=!0,s.apply(this,e))})(),S=window,d=document,l="script",S[g="wogaa_snowplow"]||(S.GlobalSnowplowNamespace=S.GlobalSnowplowNamespace||[],S.GlobalSnowplowNamespace.push(g),S[g]=function(){(S[g].q=S[g].q||[]).push(arguments)},S[g].q=S[g].q||[],u=d.createElement(l),h=d.getElementsByTagName(l)[0],u.async=1,u.src="https://assets.wogaa.sg/snowplow/3.13.1/sp.js",h.parentNode.insertBefore(u,h))}();